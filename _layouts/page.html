---
layout: base
---

{% if page.index %}
    {% for component in page.index %}
        {% if component.ref %}
            {% assign resolved = site.data.indexes[component.ref] %}
            {% assign comp_type = resolved.type %}
        {% else %}
            {% assign comp_type = component.type %}
        {% endif %}
        {% if component.position == "top" %}
            {% if comp_type == "windbell" %}
                {% include widgets/windbell component=component %}
            {% elsif comp_type == "coconut" %}
                {% include widgets/coconut component=component %}
            {% elsif comp_type == "record" %}
                {% include widgets/record component=component %}
            {% endif %}
        {% endif %}
    {% endfor %}
{% endif %}

{{ content }}

{% if page.index %}
    {% for component in page.index %}
        {% if component.ref %}
            {% assign resolved = site.data.indexes[component.ref] %}
            {% assign comp_type = resolved.type %}
        {% else %}
            {% assign comp_type = component.type %}
        {% endif %}
        {% if component.position == "bottom" %}
            {% if comp_type == "windbell" %}
                {% include widgets/windbell component=component %}
            {% elsif comp_type == "coconut" %}
                {% include widgets/coconut component=component %}
            {% elsif comp_type == "record" %}
                {% include widgets/record component=component %}
            {% endif %}
        {% endif %}
    {% endfor %}
{% endif %}
